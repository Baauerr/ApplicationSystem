@using Common.DTO.Entrance
@model ManagersListDTO

<div class="card">
    <div id="managersListContainer">
        @await Html.PartialAsync("_ManagersListPartial", Model)
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            $(document).on('submit', '.remove-manager-form', function (event) {
                event.preventDefault();

                $.ajax({
                    url: '@Url.Action("DeleteManager", "Manager")',
                    type: 'POST',
                    data: $(this).serialize(),
                    success: function (response) {
                        $('#managersListContainer').html(response);
                    },
                    error: function () {
                        alert('Произошла ошибка при удалении менеджера');
                    }
                });
            });
        });
    </script>
}
     